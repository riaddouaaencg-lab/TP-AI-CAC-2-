import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from scipy import stats
# Configuration
sns.set_style(&quot;whitegrid&quot;)
plt.rcParams[&#39;figure.figsize&#39;] = (14, 6)
print(&quot;=&quot;*80)
print(&quot;TP PARTIE 1 — STATISTIQUES ET LOI NORMALE EN FINANCE&quot;)
print(&quot;Analyse risque portefeuille et calcul VaR&quot;)
print(&quot;=&quot;*80)
# ============================================================================
# DONNÉES
# ============================================================================
# Rendements mensuels historiques (%)
rendements_A = np.array([
1.2, 0.8, -0.5, 1.5, 0.9, 1.1, 0.7, 1.3, 1.0, 0.6, 1.4, 0.8,
1.1, 0.9, -0.3, 1.2, 1.0, 1.5, 0.8, 1.3, 0.9, 1.1, 1.2, 1.0
])
rendements_B = np.array([
4.5, -2.1, 6.2, -3.5, 5.8, 7.1, -1.8, 4.9, 3.2, -4.2, 8.5, -2.7,
5.1, 6.8, -3.1, 7.3, 4.5, -2.9, 6.7, 5.3, -3.8, 7.9, 4.2, 5.5
])
# Paramètres
capital = 500000 # € à investir
perte_max_toleree = 50000 # € (10% capital)
taux_sans_risque = 3.0 # % annuel
# ============================================================================
# QUESTION 1.1 — STATISTIQUES DESCRIPTIVES
# ============================================================================
print(&quot;\n&quot; + &quot;=&quot;*80)
print(&quot;QUESTION 1.1 — STATISTIQUES DESCRIPTIVES&quot;)
print(&quot;=&quot;*80)
def calculer_stats_portefeuille(rendements, nom):
&quot;&quot;&quot;
Calcule statistiques descriptives portefeuille
Parameters:
rendements : np.array
Rendements mensuels (%)
nom : str
Nom portefeuille
Returns:
dict : Statistiques calculées
&quot;&quot;&quot;
# a) Moyenne mensuelle
moyenne_mensuelle = np.mean(rendements)
# b) Écart-type mensuel
ecart_type_mensuel = np.std(rendements, ddof=1) # ddof=1 pour échantillon
# c) Médiane
mediane = np.median(rendements)
# d) Rendement annualisé (capitalisation composée)
# Formule : (1 + r_mensuel/100)^12 - 1
rendement_annuel = ((1 + moyenne_mensuelle/100)**12 - 1) * 100
# e) Volatilité annualisée
# Formule : σ_annuel = σ_mensuel × √12
volatilite_annuelle = ecart_type_mensuel * np.sqrt(12)
stats = {
&#39;nom&#39;: nom,
&#39;moyenne_mensuelle&#39;: moyenne_mensuelle,
&#39;ecart_type_mensuel&#39;: ecart_type_mensuel,
&#39;mediane&#39;: mediane,
&#39;rendement_annuel&#39;: rendement_annuel,
&#39;volatilite_annuelle&#39;: volatilite_annuelle
}
return stats
# Calcul stats pour les deux portefeuilles
stats_A = calculer_stats_portefeuille(rendements_A, &quot;CONSERVATIVE (A)&quot;)
stats_B = calculer_stats_portefeuille(rendements_B, &quot;AGRESSIF (B)&quot;)
# Affichage résultats
for stats in [stats_A, stats_B]:
print(f&quot;\n�� PORTEFEUILLE {stats[&#39;nom&#39;]}&quot;)
print(f&quot; • Rendement mensuel moyen : {stats[&#39;moyenne_mensuelle&#39;]:.2f}%&quot;)
print(f&quot; • Écart-type mensuel : {stats[&#39;ecart_type_mensuel&#39;]:.2f}%&quot;)
print(f&quot; • Médiane : {stats[&#39;mediane&#39;]:.2f}%&quot;)
print(f&quot; • Rendement annualisé : {stats[&#39;rendement_annuel&#39;]:.2f}%&quot;)
print(f&quot; • Volatilité annualisée : {stats[&#39;volatilite_annuelle&#39;]:.2f}%&quot;)
